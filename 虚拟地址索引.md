### 虚拟地址索引

以 intel 桌面级架构为例：

intel桌面级仅使用了36位的虚拟地址

例如 我们要寻找

~~~ 
0x2ffde8
~~~

对应的物理内存内容

二进制为

~~~  
000000000     000 0000 00     00 0000 001      0 1111 1111        1101 1110 1000
 一级索引      二级索引          三级索引          四级索引               页内偏移   
~~~

我们先得到一级页表头为：0x7d838000，而一级页表偏移为0，所以我们要查找的地址就是0x7d838000

查看一级页表：

~~~ 
#7d838000 02b00000 7d274867
#7d838008 00000000 00000000
#7d838010 ..............
~~~

其中 intel的索引中 上一级页表12-35位作为下一级页表索引头 即0x07d274，而偏移为0，我们需要查找的地址为：0x7d274000（__注意__ : 写全应该是0x000000007d274000）

二级页表：

~~~ 
#7d274000 03000000 7d737867
#7d274008 01999999 7d23f867
#7d274010 ................
~~~

这样 由于偏移为0，我们得到了三级页表的地址为：0x07d737000(0x07d37+0x000,之后我们省略了高位的0 写作7d737000)

三级页表:

~~~ 
#7d737000 01500000 7d7bb867
#7d737008 11700000 7b596867
#7d737010 ................
~~~

下一级的索引表头为 0x07d7bb+1*0x8（1个字节 对应8个二进制位 前面#后为16进制的内存地址 一行代表8个字节 即从0x.......0到0x.......8)

四级页表：

~~~  
#7d7bb008 89a00000 7d084867
#7d7bb010 97300000 7afbc867
#7d7bb018 ................
~~~

而此时的偏移为：0 1111 1111 即0xff 在内存中应查找地址为：0x07d084+8*0xff 

内存数据：

~~~ 
#7d084de8 48 65 6c 6c 6f 57 6f 72 6c 64 00 00 00 00 00 00    // 这里个字节两个字节显示  
#7d084df8 ...............................................
~~~

48 56 6c 6c 6f 57 6f 72 6c 64  对应的ascii 字符为 HelloWorld .

这就是整个寻址的过程 

数据来源于：[_懒人](https://www.cnblogs.com/lanrenxinxin/p/4735027.html)



